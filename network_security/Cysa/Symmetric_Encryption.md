
# Symmetric Encryption

<p align ="center">
    <img src= "/network_security/photo/symmetric_encryption.svg" alt = "symmetric_encryption"
</p>


### ***Phase - Zero***
دي المرحله اللي انت بتقرر فبها تبعت الرساله وبتحدد المفتاح اللي هتعمل بيه التشفير
المفتاح ده بيبقى **نفسه** اللي هيستخدم في التشفير وفك التشفير.
**التحدي** هتا المفتاح لازم يتنقل للمستلم بطريقة آمنة (عادة بيتم تبادله قبل كده أو عن طريق قنوات آمنة أو تبادل فيزيائي)

### ***Phase - one***
الرساله اللي انت بعتها بيحصلها تشفيير با الجوريزم و المفتاح اللي انت حددته وتتحول لسيفير تيكست 
مثلا:

`"Hello"` => `RUahkWOCnIjbxKikqUqx+Q==`

### ***Phase - Two***
هنا بقا السيفر تيكست والمفتاح بيتعملهم هاش عن طريق انهم بيدخلو على حاجه اسمها:

`KHMAC - SHA (Hash-based Message Authentication Code)` 

`RUahkWOCnIjbxKikqUqx+Q== 123` => `7de247dd552a1c8123fa6525993751696892adfd0a9bc2caed042b0dda8f89b2`


### ***Phase - Three***
في المرحله دي السيفر تيكست و معاه الهاش اللي لسه عملينه بيتم ارسالهم  للشخص المستلم
كدا المستلم معاه:

- **Ciphertext**
- **HMAC**

### ***Phase - Four - Five***
المستلم بييعمل هاش للسيفر تيكست ومعاه المفتاح عشان يقارنه بالهاش اللي اتبعتله ولما بتأكد ان هو نفس الهاش يبقا الرساله متعدلتش في الطريق.


----
### Symmetric (Secret Key) Encryption
هو **أكتر نوع شائع من التشفير** لانه بيستخدم **مفتاح واحد** للتشفير وفك التشفير.
    
الميزة الأساسية:
    
- **سرعة عالية** لأن طول المفتاح قصير نسبيًا.
- بيعتمد على عمليات رياضية بسيطة تقدر تتنفذ بسرعة في الهاردوير.

أهم استخداماته:
    
- **تشفير البيانات بسرعة عالية** أثناء انتقالها في الشبكات (Wire-speed).
	
- **تشفير كميات كبيرة من البيانات** لحماية الخصوصية (Bulk encryption).


---
### Symmetric Key Management

المشكلة الأساسية في **إدارة المفتاح** لانها صعبة لأن نفس المفتاح بيستخدم للتشفير وفك التشفير.

وهنا **الأمان بيعتمد على سرية المفتاح**:
    
- لو حد حصل على المفتاح يقدر يشفر ويفك التشفير عادي جدا وبحرية.
- لازم المرسل والمستقبل **يتبادلوا المفتاح السري عبر قناة آمنة** قبل ما يبدأ التشفير.


**خوارزميات معروفة وشائعة:**
    
- **DES**
- **3DES**
- **AES** (الأكثر استخدامًا حاليًا)
- - **Rivest Ciphers (RC series):** RC2, RC5, RC6

دول معروفين بحاجه اسمها "بلوك سايفر" يعني بيقسمو الداتا لبلوكات وكل بلوك يتشفر لوحده

- **SEAL** (Software Encryption Algorithm)
- **Rivest Ciphers (RC series):** RC2

دول ييعملو حاجه اسمها "ستريم" يعني بيشفرو كل بيت لوحدها وبيستخدم في الفويس والفيديو ستريم


**خوارزميات أخرى أقل انتشارًا:**

- **Blowfish**
- **Twofish**
- **Threefish**
- **Serpent** 

(لكن بعضهم مش مدعوم في Cisco أو لسه مش منتشر بشكل واسع)

#### Key Length 

DES -> 56

بتقسم الداتا لبلوكات كل بلوك 64 بيت ولو فيه بلوك ناقص بنزود اصفار ويبقا اسمه كارري

3DES -> 112 , 168
AES -> 128, 192, 256

SEAL -> 160
RC2 -> 40, 64
RC4 -> 1 to 256
RC5 -> 0 to 2040
RC6 -> 128, 192, 256

---
### How to Choose an Encryption Algorithm?

**الثقة في الخوارزمية**

- لازم تكون معتمدة ومجربة من المجتمع العلمي/الأمني.	
- الخوارزميات اللي صمدت ضد الهجمات لسنوات هي الأفضل.

**الحماية ضد هجمات البروت فورس**
    
- لازم توفر حماية كافية.
- باستخدام طول مفتاح مناسب، بتبقى هجمات البروت فورس غير عملية.
- **دعم أطوال مفاتيح مرنة وطويلة**
- وجود إمكانية لاستخدام مفاتيح متعددة الأطوال بيدي أمان أعلى.
     
**القيود على التصدير أو الاستيراد**
    
- بعض الخوارزميات ممكن يكون عليها قيود قانونية في التوزيع أو الاستخدام.

---
### Data Encryption Standard (DES)

واحد من أشهر معايير التشفير المتماثل.
    
**تاريخه:**
    
- طورته شركة **IBM**.     
- كان يُعتقد إنه غير قابل للكسر في السبعينيات.

**الية العمل:**
    
- يعتمد على **مفتاح مشترك** للتشفير وفك التشفير.
- بيحول **بلوك 64 بيت** من النص الصريح (بلين تيكست) إلى نص مشفر (سايفر تيكست).
- الطرف المستقبل يستخدم خوارزمية الفك لإرجاع النص المشفر إلى النص الأصلي.


---
### DES Security Rating

**العيب الأساسي** هو طول المفتاح قصير يخليها اختيار مناسب لحماية البيانات **لفترة قصيرة فقط**.
    
**بديل أقوى:**
    
- **3DES**

يعتبر خيار أفضل لأنه أكثر ثقة ويوفر قوة أمان أعلى.
 

----
### Triple DES (3DES / TDES)

أقوى من العاديه بحوالي **256 مرة**.
    
**آلية العمل:**
    
- بتعالج بلوك 64 بيت** من البيانات.
- بتطبق خوارزمية"دي اي اس" حوال 3 مرات متتابعة
	1. **تشفير**
	2. **فك تشفير**
	3. **تشفير**

**المفاتيح:**
    
- ممكن يستخدم **مفتاح واحد، مفتاحين، أو 3 مفاتيح مختلفة**.
	
- لو استخدم مفتاح واحد فقط هايبقا زي الDES.
        
**العيب:** يحتاج وقت معالجة أكبر.

---
### Advanced Encryption Standard (AES)

خوارزمية **شديدة الأمان** ومعتمدة من معيار **FIPS**.
    
مبنية على خوارزمية **Rijndael**
    
- **أطوال المفاتيح:** 128, 192, أو 256 بت.
    
- **أطوال (البلوكات):** 128, 192, أو 256 بت.
    
يدعم **9 تركيبات مختلفة** من أطوال المفاتيح وبلوكات مختلفه يعني مثلا 128 ممكن مستخدمه في بلوكات 128 او 192 او 256
   
- متوفر الآن في إصدارات **روترات سيسكو** اللي بتدعم 
- **IPsec with DES/3DES**.

----
### AES

 **ليه استبدل DES؟**

طول المفتاح في اكبر بكتير من دي اي اس.

- بيشتغل أسرع من على نفس العتاد.
    
- **كفاءة أعلى:** أكفأ من DES و 3DES بحوالي **5 أضعاف**.
    
- **أفضل للبيئات الحديثة** مناسب أكتر لبيئات **سرعة عالية** و **زمن انتقال قليل (ليتينسي قليل)**، خصوصًا عند استخدامه بالسوفتوير فقط.

---

### Software-optimized Encryption Algorithm (SEAL)

خوارزمية بديلة للـ(في السوفتوير).
**اتصممت** سنة **1993**.

**النوع:**

- **Stream Cipher**

بتستخدم **مفتاح بطول 160 بيت**.

**المميزات:**

- لأنها **ستريم سايفر** البيانات بتتشفر بشكل مستمر.

- أسرع بكثير من **البلوك سايفر**.

**العيب:**
    
- مرحلة التهيئة عشان تشغله أطول.

بيتم إنشاء مجموعة كبيرة من الجداول باستخدام **SHA** قبل بدء التشفير.


---
### RC Algorithms

اتصممت بالكامل أو جزئيا بواسطة **رونالد ريفيست** (مخترع MD5).
    
**السبب في الانتشار:**
    
- سرعة عالية.
- دعم أطوال مفاتيح متعددة.
- **بتستخدم** بشكل واسع في **تطبيقات الشبكات**.


**أنواعها:**

- **RC2** 
خوارزمية قديمة تستخدم للتشفير المتماثل.

- **RC4** 
خوارزمية **ستريم سايفر** مشهورة (كانت مستخدمة في WEP و TLS زمان).

- **RC5**
هي خوارزمية **بلوك سيفر** ومتميزه بمرونة عالية في حجم البلوك والمفتاح.

- **RC6**
نسخة مطورة من RC5، وكانت مرشحة لتصبح معيار AES.

---
### Diffie-Hellman (DH)

**نوع التشفير** بروتوكول **غير متماثل (Asymmetric)**.
    
**الفكرة الأساسية:**
    
- بيسمح لطرفين ما يعرفوش بعض قبل كده إنهم يتفقوا على **مفتاح سري مشترك** عبر قناة اتصال غير آمنة.

- المفتاح الناتج بيُستخدم بعد كده لتأمين الاتصال باستخدام **تشفير متماثل (ايسيميتريك)**.

نشر سنة **1976** بواسطة
**Whitfield Diffie** and **Martin Hellman**.

**أماكن الاستخدام الشائع:**

- **IPsec VPNs**
	
- **SSL / TLS** (تأمين الإنترنت)
	
- **SSH**

**ملاحظات مهمة:**
    
**مش آلية تشفير للبيانات نفسها**، لكنه بروتوكول لتبادل المفاتيح.
	
**بطيء جدًا** لو استخدم في **تشفير كميات كبيرة من البيانات**.

 يعني:
	
بيستخدم لتوليد **المفاتيح السرية** بعد كده يتم استخدام خوارزميات **تشفير متماثل** لتشفير البيانات الضخمة بسرعة.


#### Key Size

- 512
- 1024
- 2048
- 3072
- 4096




### ***Final - Phase***
هنا بقا المستلم بعد ماتأكد ان الرساله متغيرتش هايفك تشفير السيفر تيكست بالمفتاح والالجوريزم اللي اتشفرت بيه

`RUahkWOCnIjbxKikqUqx+Q==` => `"Hello"`



### **Feel free to contact me on** **[LinkedIn](https://www.linkedin.com/in/saeed-elfiky-61188b24b/)**.
